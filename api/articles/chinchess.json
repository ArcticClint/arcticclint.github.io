{"title":"中国象棋将帅问题","uid":"a44366009025b68a7362d7c10070d68f","slug":"chinchess","date":"2015-09-21T09:11:25.000Z","updated":"2022-01-28T05:58:31.909Z","comments":true,"path":"api/articles/chinchess.json","keywords":"博客","cover":"https://tse2-mm.cn.bing.net/th/id/OIP-C.GYnEriElqrT6hFSCzHFIJgHaE7?w=232&h=180&c=7&r=0&o=5&pid=1.7","content":"<p>下过中国象棋的朋友都知道，双方的“将”和“帅”相隔遥远，并且不能照面。在象棋残局中，许多高手能利用这一规则走出精妙的杀招。假设棋盘上只有“将”和“帅”二子（如图所示）（为了下面叙述方便，我们约定用A表示“将”, B表示“帅”）。<br><img src=\"https://tse3-mm.cn.bing.net/th/id/OIP-C.HV-E_rF7YumOx8tnOouuFQAAAA?pid=ImgDet&rs=1\" alt=\"avatar\"><br>A、B二子被限制在己方3×3的格子里运动。例如，在如上的表格里，A被正方形{d10,f10, d8, f8}包围，而B被正方形{d3, f3, d1, f1}包围。每一步，A、B分别可以横向或纵向移动一格，但不能沿对角线移动。另外，A不能面对B，也就是说，A和B不能处于同一纵向直线上（比如A在d10的位置，那么B就不能在d1、d2以及d3的位置上）。请写出一个程序，输出A、B所有合法位置。</p>\n<h3 id=\"分析与解法\"><a href=\"#分析与解法\" class=\"headerlink\" title=\"分析与解法\"></a>分析与解法</h3><div class=\"custom-quote tip\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06\"></path>\n<path stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M11.99 18H12.01\"></path>\n</svg></span>\n<p class=\"custom-quote-title\">TIP</p>\n<p>问题本身并不复杂，只要把所有A、B互相排斥的条件列举出来就可以完成本题的要求。稍微思考一下，可以知道这个程序的大体框架是：</p>\n<ul>\n<li>遍历A的位置<ul>\n<li>遍历B的位置<ul>\n<li>判断A,B位置组合是否符合要求</li>\n<li>如果满足则输出</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>因此，需要存储的是A、B的位置信息，并且每次循环都要更新。首先创建一个逻辑坐标系统，一个可行的方法是用1~9的数字，按照行优先的顺序来表示每个格点的位置（如图所示）。这样，只需要用模余运算就可以得到当前的列号，从而判断A、B是否互斥。<br><img src=\"https://tse3-mm.cn.bing.net/th/id/OIP-C.kHV7T3wF_F7QxqRuAbGbUwHaG2?pid=ImgDet&rs=1\" alt=\"avatar\"></p>\n</div>\n<details class=\"custom-details\">\n<summary>Click to see code</summary>\n<p><pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">for</span> a <span class=\"token operator\">:=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> a <span class=\"token operator\">&lt;=</span> <span class=\"token number\">9</span><span class=\"token punctuation\">;</span> a<span class=\"token operator\">++</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">for</span> b <span class=\"token operator\">:=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> b <span class=\"token operator\">&lt;=</span> <span class=\"token number\">9</span><span class=\"token punctuation\">;</span> b<span class=\"token operator\">++</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">if</span> a<span class=\"token operator\">%</span><span class=\"token number\">3</span> <span class=\"token operator\">!=</span> b<span class=\"token operator\">%</span><span class=\"token number\">3</span> <span class=\"token punctuation\">&#123;</span>\n            fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"A=%d, B=%d\\n\"</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</p>\n</details>\n","text":"下过中国象棋的朋友都知道，双方的“将”和“帅”相隔遥远，并且不能照面。在象棋残局中，许多高手能利用这一规则走出精妙的杀招。假设棋盘上只有“将”和“帅”二子（如图所示）（为了下面叙述方便，我们约定用A表示“将”, B表示“帅”）。A、B二子被限制在己方3×3的格子里运动。例如，在如...","link":"","photos":[],"count_time":{"symbolsCount":751,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"趣题","slug":"趣题","count":3,"path":"api/tags/趣题.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%86%E6%9E%90%E4%B8%8E%E8%A7%A3%E6%B3%95\"><span class=\"toc-text\">分析与解法</span></a></li></ol>","author":{"name":"ArcticTime","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/22902414?s=400&u=5ba620686e56ccff3fba9fffaadb3244bdc6de4d&v=4","link":"/","description":"当前目标是八块腹肌","socials":{"github":"https://github.com/ArcticClint","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"快速找出故障机器","uid":"60ae5f459fdbd2a4d5acb3ac37fc6541","slug":"findbadmachine","date":"2016-09-26T03:33:26.000Z","updated":"2022-01-28T05:54:33.091Z","comments":true,"path":"api/articles/findbadmachine.json","keywords":"博客","cover":"https://tse3-mm.cn.bing.net/th/id/OIP-C.cw_ZymcoFQL86v57DeTyvAHaEm?w=283&h=180&c=7&r=0&o=5&pid=1.7","text":"关心数据挖掘和搜索引擎的朋友都知道，我们需要很多的计算机来存储和处理海量数据。然而，计算机难免出现硬件故障而导致网络联系失败或死机。为了保证搜索引擎的服务质量，我们需要保证每份数据都有多个备份。 简单起见，我们假设一个机器仅储存一个标号为ID的记录（假设ID是小于10亿的整数），...","link":"","photos":[],"count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"categories":[{"name":"algorithm","slug":"algorithm","count":4,"path":"api/categories/algorithm.json"}],"tags":[{"name":"趣题","slug":"趣题","count":3,"path":"api/tags/趣题.json"}],"author":{"name":"ArcticTime","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/22902414?s=400&u=5ba620686e56ccff3fba9fffaadb3244bdc6de4d&v=4","link":"/","description":"当前目标是八块腹肌","socials":{"github":"https://github.com/ArcticClint","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"三个灯泡--三个开关","uid":"ea3ce43666217b114197b9d0d5d2f463","slug":"switch","date":"2015-08-07T03:43:13.000Z","updated":"2022-01-28T05:59:55.037Z","comments":true,"path":"api/articles/switch.json","keywords":"博客","cover":"https://tse3-mm.cn.bing.net/th/id/OIP-C._ezKjN6Pd8PYKeex8ZwH0AHaFF?w=255&h=180&c=7&r=0&o=5&pid=1.7","text":"房间里有三盏灯，屋外有三个开关，分别控制这三盏灯，只有进入房间，才能看到哪一个电灯是亮的。请问如何只进入房间一次，就能指明哪一个开关控制哪一个灯? ","link":"","photos":[],"count_time":{"symbolsCount":74,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"趣题","slug":"趣题","count":3,"path":"api/tags/趣题.json"}],"author":{"name":"ArcticTime","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/22902414?s=400&u=5ba620686e56ccff3fba9fffaadb3244bdc6de4d&v=4","link":"/","description":"当前目标是八块腹肌","socials":{"github":"https://github.com/ArcticClint","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}