{"title":"简单记录下ssh隧道","uid":"ace00f99753694b20f6a827acf26990a","slug":"sshtunnel","date":"2017-09-25T03:19:06.000Z","updated":"2022-01-28T03:27:15.156Z","comments":true,"path":"api/articles/sshtunnel.json","keywords":"博客","cover":null,"content":"<div class=\"custom-quote tip\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06\"></path>\n<path stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M11.99 18H12.01\"></path>\n</svg></span>\n<p class=\"custom-quote-title\">TIP</p>\n<p><h3 id=\"什么是隧道？\"><a href=\"#什么是隧道？\" class=\"headerlink\" title=\"什么是隧道？\"></a>什么是隧道？</h3><p>在实际的网络中，通常会通过各种边界设备、软/硬件防火墙甚至入侵检测系统来检查对外连接情况，如果发现异样，就会对通信进行阻断。那么什么是隧道呢？这里的隧道，就是一种绕过端口屏蔽的通信方式。防火墙两端的数据包通过防火墙所允许的数据包类型或端口进行封装，然后穿过防火墙，与对方进行通信。当封装的数据包到达目的地时，将数据包还原，并将还原后的数据包发送到相应服务器上。</p>\n</div>\n<h3 id=\"应用层隧道技术\"><a href=\"#应用层隧道技术\" class=\"headerlink\" title=\"应用层隧道技术\"></a>应用层隧道技术</h3><p>应用层（Application layer）是七层OSI模型的第七层。应用层直接和应用程序接口并提供常见的网络应用服务。应用层的隧道技术主要利用应用软件提供的端口来发送数据，常用的协议有SSH、HTTP/HTTPS和DNS。</p>\n<h4 id=\"SSH协议\"><a href=\"#SSH协议\" class=\"headerlink\" title=\"SSH协议\"></a>SSH协议</h4><p>SSH 为建立在应用层基础上的安全协议，专为远程登录会话和其他网络服务提供安全性的协议。利用 SSH 协议可以有效防止远程管理过程中的信息泄露问题。SSH最初是UNIX系统上的一个程序，后来又迅速扩展到其他操作平台。SSH客户端适用于多种平台，几乎所有UNIX平台—包括HP-UX、Linux、AIX、Solaris、DigitalUNIX、Irix，以及其他平台，都可运行SSH。<br>一般情况下，SSH协议的传输是被允许通过防火墙及边界设备的，且SSH传输过程加密，很难区分是合法的SSH会话还是攻击者建立的隧道，所以经常被攻击者所利用。攻击者使用SSH隧道突破防火墙限制后，能够建立一些之前无法建立的TCP连接。</p>\n<h4 id=\"SSH-命令\"><a href=\"#SSH-命令\" class=\"headerlink\" title=\"SSH 命令\"></a>SSH 命令</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">ssh 用户名@ip -p &lt;端口号&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"创建ssh隧道常用的参数\"><a href=\"#创建ssh隧道常用的参数\" class=\"headerlink\" title=\"创建ssh隧道常用的参数\"></a>创建ssh隧道常用的参数</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">-C：压缩传输，提高传输速度\n-f：将ssh传输转入后台执行，不占用当前的shell\n-N：静默连接，连接后看不到具体会话\n-g：允许远程主机连接本地用于转发的端口\n-L：本地端口转发\n-R：远程端口转发\n-D：动态转发（SOCKS 代理）\n-p：指定ssh端口<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>","feature":true,"text":" TIP 什么是隧道？在实际的网络中，通常会通过各种边界设备、软/硬件防火墙甚至入侵检测系统来检查对外连接情况，如果发现异样，就会对通信进行阻断。那么什么是隧道呢？这里的隧道，就是一种绕过端口屏蔽的通信方式。防火墙两端的数据包通过防火墙所允许的数据包类型或端口进行封装，然后穿过防...","link":"","photos":[],"count_time":{"symbolsCount":805,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"ssh隧道","slug":"ssh隧道","count":1,"path":"api/tags/ssh隧道.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BB%80%E4%B9%88%E6%98%AF%E9%9A%A7%E9%81%93%EF%BC%9F\"><span class=\"toc-text\">什么是隧道？</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%BA%94%E7%94%A8%E5%B1%82%E9%9A%A7%E9%81%93%E6%8A%80%E6%9C%AF\"><span class=\"toc-text\">应用层隧道技术</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#SSH%E5%8D%8F%E8%AE%AE\"><span class=\"toc-text\">SSH协议</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#SSH-%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">SSH 命令</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BAssh%E9%9A%A7%E9%81%93%E5%B8%B8%E7%94%A8%E7%9A%84%E5%8F%82%E6%95%B0\"><span class=\"toc-text\">创建ssh隧道常用的参数</span></a></li></ol></li></ol>","author":{"name":"ArcticTime","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/22902414?s=400&u=5ba620686e56ccff3fba9fffaadb3244bdc6de4d&v=4","link":"/","description":"当前目标是八块腹肌","socials":{"github":"https://github.com/ArcticClint","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"gomail基本用法","uid":"ea2df330bdc4d3b0275544f615da7198","slug":"gomail","date":"2019-03-11T03:50:45.000Z","updated":"2022-01-21T05:58:47.404Z","comments":true,"path":"api/articles/gomail.json","keywords":"博客","cover":null,"text":"GoMail基本用法 Click to see code // Example m := gomail.NewMessage() m.SetHeader(\"From\", \"alex@example.com\") m.SetHeader(\"To\", \"bob@example.com\"...","link":"","photos":[],"count_time":{"symbolsCount":833,"symbolsTime":"1 mins."},"categories":[{"name":"golang","slug":"golang","count":1,"path":"api/categories/golang.json"}],"tags":[{"name":"email","slug":"email","count":1,"path":"api/tags/email.json"}],"author":{"name":"ArcticTime","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/22902414?s=400&u=5ba620686e56ccff3fba9fffaadb3244bdc6de4d&v=4","link":"/","description":"当前目标是八块腹肌","socials":{"github":"https://github.com/ArcticClint","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"图片转字符","uid":"f0a9f68103bafda08057b264814a6ae9","slug":"pic2str","date":"2017-08-15T10:49:36.000Z","updated":"2022-01-24T02:47:03.464Z","comments":true,"path":"api/articles/pic2str.json","keywords":"博客","cover":null,"text":"usage: python pic2str.py xxx.jpg Click to see code # coding:utf-8 # 为一张图片生成对应的字符集图片 import Image import argparse # 命令行输入参数处理 parser = argpar...","link":"","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"python","slug":"python","count":1,"path":"api/categories/python.json"}],"tags":[{"name":"tools","slug":"tools","count":2,"path":"api/tags/tools.json"}],"author":{"name":"ArcticTime","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/22902414?s=400&u=5ba620686e56ccff3fba9fffaadb3244bdc6de4d&v=4","link":"/","description":"当前目标是八块腹肌","socials":{"github":"https://github.com/ArcticClint","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}