{"title":"gomail基本用法","uid":"ea2df330bdc4d3b0275544f615da7198","slug":"gomail","date":"2019-03-11T03:50:45.000Z","updated":"2022-01-21T05:58:47.404Z","comments":true,"path":"api/articles/gomail.json","keywords":"博客","cover":null,"content":"<h3 id=\"GoMail基本用法\"><a href=\"#GoMail基本用法\" class=\"headerlink\" title=\"GoMail基本用法\"></a>GoMail基本用法</h3><details class=\"custom-details\">\n<summary>Click to see code</summary>\n<p><pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// Example</span>\n\nm <span class=\"token operator\">:=</span> gomail<span class=\"token punctuation\">.</span><span class=\"token function\">NewMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nm<span class=\"token punctuation\">.</span><span class=\"token function\">SetHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"From\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"alex@example.com\"</span><span class=\"token punctuation\">)</span>\nm<span class=\"token punctuation\">.</span><span class=\"token function\">SetHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"To\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"bob@example.com\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"cora@example.com\"</span><span class=\"token punctuation\">)</span>\nm<span class=\"token punctuation\">.</span><span class=\"token function\">SetAddressHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Cc\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"dan@example.com\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Dan\"</span><span class=\"token punctuation\">)</span>\nm<span class=\"token punctuation\">.</span><span class=\"token function\">SetHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Subject\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Hello!\"</span><span class=\"token punctuation\">)</span>\nm<span class=\"token punctuation\">.</span><span class=\"token function\">SetBody</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"text/html\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Hello &lt;b>Bob&lt;/b> and &lt;i>Cora&lt;/i>!\"</span><span class=\"token punctuation\">)</span>\nm<span class=\"token punctuation\">.</span><span class=\"token function\">Attach</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/home/Alex/lolcat.jpg\"</span><span class=\"token punctuation\">)</span>\n\nd <span class=\"token operator\">:=</span> gomail<span class=\"token punctuation\">.</span><span class=\"token function\">NewDialer</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"smtp.example.com\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">587</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"user\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"123456\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// Send the email to Bob, Cora and Dan.</span>\n<span class=\"token keyword\">if</span> err <span class=\"token operator\">:=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">DialAndSend</span><span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n\n<span class=\"token comment\">// NoAuth</span>\n\nm <span class=\"token operator\">:=</span> gomail<span class=\"token punctuation\">.</span><span class=\"token function\">NewMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nm<span class=\"token punctuation\">.</span><span class=\"token function\">SetHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"From\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"from@example.com\"</span><span class=\"token punctuation\">)</span>\nm<span class=\"token punctuation\">.</span><span class=\"token function\">SetHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"To\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"to@example.com\"</span><span class=\"token punctuation\">)</span>\nm<span class=\"token punctuation\">.</span><span class=\"token function\">SetHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Subject\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Hello!\"</span><span class=\"token punctuation\">)</span>\nm<span class=\"token punctuation\">.</span><span class=\"token function\">SetBody</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"text/plain\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Hello!\"</span><span class=\"token punctuation\">)</span>\n\nd <span class=\"token operator\">:=</span> gomail<span class=\"token punctuation\">.</span>Dialer<span class=\"token punctuation\">&#123;</span>Host<span class=\"token punctuation\">:</span> <span class=\"token string\">\"localhost\"</span><span class=\"token punctuation\">,</span> Port<span class=\"token punctuation\">:</span> <span class=\"token number\">587</span><span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">if</span> err <span class=\"token operator\">:=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">DialAndSend</span><span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</p>\n</details>\n","feature":true,"text":"GoMail基本用法 Click to see code // Example m := gomail.NewMessage() m.SetHeader(\"From\", \"alex@example.com\") m.SetHeader(\"To\", \"bob@example.com\"...","link":"","photos":[],"count_time":{"symbolsCount":833,"symbolsTime":"1 mins."},"categories":[{"name":"golang","slug":"golang","count":1,"path":"api/categories/golang.json"}],"tags":[{"name":"email","slug":"email","count":1,"path":"api/tags/email.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#GoMail%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95\"><span class=\"toc-text\">GoMail基本用法</span></a></li></ol>","author":{"name":"ArcticTime","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/22902414?s=400&u=5ba620686e56ccff3fba9fffaadb3244bdc6de4d&v=4","link":"/","description":"当前目标是八块腹肌","socials":{"github":"https://github.com/ArcticClint","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"图片转字符","uid":"f0a9f68103bafda08057b264814a6ae9","slug":"pic2str","date":"2020-08-15T10:49:36.000Z","updated":"2022-01-21T02:24:50.084Z","comments":true,"path":"api/articles/pic2str.json","keywords":"博客","cover":null,"text":"usage: python pic2str.py xxx.jpg Click to see code # coding:utf-8 # 为一张图片生成对应的字符集图片 import Image import argparse # 命令行输入参数处理 parser = argpar...","link":"","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"python","slug":"python","count":1,"path":"api/categories/python.json"}],"tags":[{"name":"tools","slug":"tools","count":1,"path":"api/tags/tools.json"}],"author":{"name":"ArcticTime","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/22902414?s=400&u=5ba620686e56ccff3fba9fffaadb3244bdc6de4d&v=4","link":"/","description":"当前目标是八块腹肌","socials":{"github":"https://github.com/ArcticClint","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"无重复字符的最长子串","uid":"07c55e31248d72bce21e385abd54c291","slug":"strwithoutrepeatchar","date":"2015-04-20T07:44:37.000Z","updated":"2022-01-24T02:10:03.474Z","comments":true,"path":"api/articles/strwithoutrepeatchar.json","keywords":"博客","cover":null,"text":"给定一个字符串 s ，请你找出其中不含有重复字符的 最长子串 的长度。 示例 1:输入: s &#x3D; &quot;abcabcbb&quot; 输出: 3 解释: 因为无重复字符的最长子串是 &quot;abc&quot;，所以其长度为 3。 示例 2:输入: s &#x3...","link":"","photos":[],"count_time":{"symbolsCount":"2.3k","symbolsTime":"2 mins."},"categories":[{"name":"algorithm","slug":"algorithm","count":3,"path":"api/categories/algorithm.json"}],"tags":[{"name":"哈希表","slug":"哈希表","count":2,"path":"api/tags/哈希表.json"},{"name":"字符串","slug":"字符串","count":1,"path":"api/tags/字符串.json"}],"author":{"name":"ArcticTime","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/22902414?s=400&u=5ba620686e56ccff3fba9fffaadb3244bdc6de4d&v=4","link":"/","description":"当前目标是八块腹肌","socials":{"github":"https://github.com/ArcticClint","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}